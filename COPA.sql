-- Código da estrutura do BD

--
-- Cria a tabela COPA
--
CREATE TABLE COPA (
 ANO SMALLINT NOT NULL, 
 DATA_INICIO TIMESTAMP NOT NULL, 
 DATA_FIM TIMESTAMP NOT NULL, 
 CIDADE_ABERTURA VARCHAR(64) NOT NULL,
 PRIMARY KEY(ANO) 
);

--
-- Cria a tabela PAIS 
--
CREATE TABLE PAIS (
 SIGLA VARCHAR(5) NOT NULL, 
 NOME VARCHAR(64) NOT NULL, 
 PRIMARY KEY(SIGLA), 
 ANO SMALLINT REFERENCES COPA 
);

--
-- Cria a tabela PESSOA
--
CREATE TABLE PESSOA (
 CODIGO INTEGER NOT NULL, 
 NOME VARCHAR(64) NOT NULL, 
 CARGO VARCHAR(10) NOT NULL,  
 PRIMARY KEY(CODIGO), 
 SIGLA VARCHAR(5) REFERENCES PAIS 
);

--
-- Cria a tabela SELECOES
--
CREATE TABLE SELECOES (
 SELECAO VARCHAR(64) NOT NULL, 
 PRIMARY KEY(SELECAO), 
 SIGLA VARCHAR(5) REFERENCES PAIS 
);

--
-- Cria a tabela JOGO
--
CREATE TABLE JOGO (
 NUMERO INTEGER NOT NULL, 
 ESTADIO VARCHAR(64) NOT NULL, 
 SELECAO1 VARCHAR(64) NOT NULL, 
 SELECAO2 VARCHAR(64) NOT NULL, 
 GOLS1 SMALLINT NOT NULL,
 GOLS2 SMALLINT NOT NULL, 
 PRIMARY KEY(NUMERO) 
);

-- Códigos de população de tabelas:

--
-- Tabela COPA:
--
INSERT INTO COPA (ANO, DATA_INICIO, DATA_FIM, CIDADE_ABERTURA) VALUES
(2014, '2014-06-12', '2014-07-13', 'São Paulo');

--
-- Tabela PAIS:
--
INSERT INTO PAIS (SIGLA, NOME, ANO) VALUES
('BR', 'BRASIL', 2014);
INSERT INTO PAIS VALUES ('HR', 'CROÁCIA', 2014);
INSERT INTO PAIS VALUES ('MEX', 'MÉXICO', 2014);
INSERT INTO PAIS VALUES ('CMR', 'CAMARÕES', 2014);

--
-- Tabela PESSOA:
--
INSERT INTO PESSOA (CODIGO, NOME, CARGO, SIGLA) VALUES
(1101, 'Júlio Cesar', 'JOGADOR', 'BR');
INSERT INTO PESSOA VALUES (1102, 'Daniel Alves', 'JOGADOR', 'BR');
INSERT INTO PESSOA VALUES (1103, 'Thiago Silva', 'JOGADOR', 'BR');
INSERT INTO PESSOA VALUES (1104, 'David Luiz', 'JOGADOR', 'BR');
INSERT INTO PESSOA VALUES (1106, 'Marcelo', 'JOGADOR', 'BR');
INSERT INTO PESSOA VALUES (1107, 'Luiz Gustavo', 'JOGADOR', 'BR');
INSERT INTO PESSOA VALUES (1108, 'Paulinho', 'JOGADOR', 'BR');
INSERT INTO PESSOA VALUES (1109, 'Oscar', 'JOGADOR', 'BR');
INSERT INTO PESSOA VALUES (1110, 'Hulk', 'JOGADOR', 'BR');
INSERT INTO PESSOA VALUES (1111, 'Neymar', 'JOGADOR', 'BR');
INSERT INTO PESSOA VALUES (1112, 'Fred', 'JOGADOR', 'BR');
INSERT INTO PESSOA VALUES (1113, 'Hernanes', 'JOGADOR', 'BR');
INSERT INTO PESSOA VALUES (1114, 'Bernard', 'JOGADOR', 'BR');
INSERT INTO PESSOA VALUES (1115, 'Ramires', 'JOGADOR', 'BR');
INSERT INTO PESSOA VALUES (1116, 'Luiz Felipe Scolari', 'TREINADOR', 'BR');
INSERT INTO PESSOA VALUES (1117, 'Jô', 'JOGADOR', 'BR');
INSERT INTO PESSOA VALUES (1118, 'Willian', 'JOGADOR', 'BR');
INSERT INTO PESSOA VALUES (2201, 'Stipe Pletikosa', 'JOGADOR', 'HR');
INSERT INTO PESSOA VALUES (2202, 'Darijo Srna', 'JOGADOR', 'HR');
INSERT INTO PESSOA VALUES (2203, 'Vedran Corluka', 'JOGADOR', 'HR');
INSERT INTO PESSOA VALUES (2204, 'Dejan Lovren', 'JOGADOR', 'HR');
INSERT INTO PESSOA VALUES (2205, 'Sime Vrsaljko', 'JOGADOR', 'HR');
INSERT INTO PESSOA VALUES (2206, 'Luka Modric', 'JOGADOR', 'HR');
INSERT INTO PESSOA VALUES (2207, 'Ivan Rakitic', 'JOGADOR', 'HR');
INSERT INTO PESSOA VALUES (2208, 'Ivan Perisic', 'JOGADOR', 'HR');
INSERT INTO PESSOA VALUES (2209, 'Mateo Kovacic', 'JOGADOR', 'HR');
INSERT INTO PESSOA VALUES (2210, 'Ivica Olic', 'JOGADOR', 'HR');
INSERT INTO PESSOA VALUES (2211, 'Nikica Jelavic', 'JOGADOR', 'HR');
INSERT INTO PESSOA VALUES (2212, 'Marcelo Brozovic', 'JOGADOR', 'HR');
INSERT INTO PESSOA VALUES (2213, 'Ante Rebic', 'JOGADOR', 'HR');
INSERT INTO PESSOA VALUES (2214, 'Niko Kovac', 'TREINADOR', 'HR');
INSERT INTO PESSOA VALUES (2215, 'Danijel Pranjic', 'JOGADOR', 'HR');
INSERT INTO PESSOA VALUES (2216, 'Sammir', 'JOGADOR', 'HR');
INSERT INTO PESSOA VALUES (2217, 'Mario Mandzukic', 'JOGADOR', 'HR');
INSERT INTO PESSOA VALUES (2218, 'Eduardo da Silva', 'JOGADOR', 'HR');
INSERT INTO PESSOA VALUES (3301, 'Guillermo Ochoa', 'JOGADOR', 'MEX');
INSERT INTO PESSOA VALUES (3302, 'Francisco Rodríguez', 'JOGADOR', 'MEX');
INSERT INTO PESSOA VALUES (3303, 'Rafael Márquez', 'JOGADOR', 'MEX');
INSERT INTO PESSOA VALUES (3304, 'Hector Moreno', 'JOGADOR', 'MEX');
INSERT INTO PESSOA VALUES (3305, 'Paul Aguilar', 'JOGADOR', 'MEX');
INSERT INTO PESSOA VALUES (3306, 'Miguel Layun', 'JOGADOR', 'MEX');
INSERT INTO PESSOA VALUES (3307, 'José Juan Vazquez', 'JOGADOR', 'MEX');
INSERT INTO PESSOA VALUES (3308, 'Hector Herrera', 'JOGADOR', 'MEX');
INSERT INTO PESSOA VALUES (3309, 'Andres Guardado', 'JOGADOR', 'MEX');
INSERT INTO PESSOA VALUES (3310, 'Giovani dos Santos', 'JOGADOR', 'MEX');
INSERT INTO PESSOA VALUES (3311, 'Oribe Peralta', 'JOGADOR', 'MEX');
INSERT INTO PESSOA VALUES (3312, 'Marco Fabián', 'JOGADOR', 'MEX');
INSERT INTO PESSOA VALUES (3313, 'Javier Hernandez', 'JOGADOR', 'MEX');
INSERT INTO PESSOA VALUES (3314, 'Carlos Salcido', 'JOGADOR', 'MEX');
INSERT INTO PESSOA VALUES (3315, 'Miguel Herrera', 'TREINADOR', 'MEX');
INSERT INTO PESSOA VALUES (3316, 'Raul Jiménez', 'JOGADOR', 'MEX');
INSERT INTO PESSOA VALUES (4401, 'Charles Itandje', 'JOGADOR', 'CMR');
INSERT INTO PESSOA VALUES (4402, 'Cedric Djeugoue', 'JOGADOR', 'CMR');
INSERT INTO PESSOA VALUES (4403, 'Nicolas N’Koulou', 'JOGADOR', 'CMR');
INSERT INTO PESSOA VALUES (4404, 'Aurélien Chedjou', 'JOGADOR', 'CMR');
INSERT INTO PESSOA VALUES (4405, 'Benoît Assou-Ekotto', 'JOGADOR', 'CMR');
INSERT INTO PESSOA VALUES (4406, 'Alex Song', 'JOGADOR', 'CMR');
INSERT INTO PESSOA VALUES (4407, 'Stéphen Mbien', 'JOGADOR', 'CMR');
INSERT INTO PESSOA VALUES (4408, 'Eyong Enoh', 'JOGADOR', 'CMR');
INSERT INTO PESSOA VALUES (4409, 'Benjamin Moukandjo', 'JOGADOR', 'CMR');
INSERT INTO PESSOA VALUES (4410, 'Eric Maxim', 'JOGADOR', 'CMR');
INSERT INTO PESSOA VALUES (4411, 'Samuel Eto’o', 'JOGADOR', 'CMR');
INSERT INTO PESSOA VALUES (4412, 'Volker Finke', 'TREINADOR', 'CMR');
INSERT INTO PESSOA VALUES (4413, 'Dany Nounkeu', 'JOGADOR', 'CMR');
INSERT INTO PESSOA VALUES (4414, 'Pierre Webó', 'JOGADOR', 'CMR');
INSERT INTO PESSOA VALUES (4415, 'Joel Matip', 'JOGADOR', 'CMR');
INSERT INTO PESSOA VALUES (4416, 'Vincent Aboubakar', 'JOGADOR', 'CMR');
INSERT INTO PESSOA VALUES (4417, 'Edgar Salli', 'JOGADOR', 'CMR');

--
-- Tabela SELECOES:
--
INSERT INTO SELECOES (SELECAO, SIGLA) VALUES
('Brasileira', 'BR');
INSERT INTO SELECOES VALUES ('Mexicana', 'MEX');
INSERT INTO SELECOES VALUES ('Camaronesa', 'CMR');
INSERT INTO SELECOES VALUES ('Croata', 'HR');

--
--
-- Tabela JOGO:
--
INSERT INTO JOGO (NUMERO, ESTADIO, SELECAO1, SELECAO2, GOLS1, GOLS2) VALUES
(1, 'Arena Corinthians', 'Brasileira', 'Croata', 3, 1);
INSERT INTO JOGO VALUES (2, 'Arena das Dunas', 'Mexicana', 'Camaronesa', 3, 1);
INSERT INTO JOGO VALUES (3, 'Arena Castelão', 'Brasileira', 'Mexicana', 0, 0);
INSERT INTO JOGO VALUES (4, ' Arena da Amazônia', 'Camaronesa', 'Croata', 0, 4);
INSERT INTO JOGO VALUES (5, 'Estádio Nacional de Brasília', 'Camaronesa', 'Brasileira', 1, 4);
INSERT INTO JOGO VALUES (6, 'Arena Pernambuco', 'Croata', 'Mexicana', 1, 3);

-- Consultas da tabelas:

SELECT * FROM JOGO;

SELECT * FROM JOGO INNER JOIN SELECOES ON JOGO.SELECAO1 = SELECOES.SELECAO;

SELECT * FROM PAIS INNER JOIN PESSOA ON PAIS.SIGLA = PESSOA.SIGLA;

SELECT * FROM PAIS INNER JOIN PESSOA ON PAIS.SIGLA = PESSOA.SIGLA WHERE CARGO='TREINADOR';

SELECT * FROM PAIS INNER JOIN SELECOES ON PAIS.SIGLA = SELECOES.SIGLA;

SELECT * FROM JOGO ORDER BY ESTADIO;

SELECT * FROM PESSOA ORDER BY SIGLA, NOME;

SELECT * FROM COPA;

SELECT * FROM PAIS;

SELECT * FROM PESSOA;

SELECT * FROM SELECOES;

SELECT * FROM JOGO;

SELECT * FROM PAIS INNER JOIN PESSOA ON PAIS.SIGLA = PESSOA.SIGLA WHERE CARGO='TREINADOR';

--Total de Gols da Seleção Brasileira:
SELECT SUM(GOLS1) AS TOTAL1 FROM JOGO WHERE SELECAO1='Brasileira'
UNION
SELECT SUM(GOLS2) AS TOTAL2 FROM JOGO WHERE SELECAO2='Brasileira';

--Estádios dos Jogos da Seleção Brasileira:

SELECT ESTADIO FROM JOGO WHERE SELECAO1='Brasileira' OR SELECAO2='Brasileira';


